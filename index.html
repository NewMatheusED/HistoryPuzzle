<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <div class="game">
        <div id="stage">
            <div id="level">
                <div id="mesa">
                    <div style="top: 66%;" id="gaveta">
                        <div class="piece1" style="background-image: url(images/piece.png);"></div>
                    </div>
                    <div id="draggable" class="papel"></div>
                    <div id="maquina">
                        <div class="btnMaquina"></div>
                        <div class="dropZone"></div>
                    </div>
                </div><!--mesa-->
            </div><!--level-->
        </div><!--stage-->
    </div><!--game-->
    <div id="overlay"></div>
    <div id="image-popup">
        <img src="" alt="Imagem completa">
    </div><!--image-popup-->
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <script>
    const position = { x: 0, y: 0 }
    const position2 = { x: 0, y: 0 }

    interact('#draggable').draggable({
        listeners: {
            start (event) {
            console.log(event.type, event.target)
            },
            move (event) {
            position.x += event.dx
            position.y += event.dy

            event.target.style.transform =
                `translate(${position.x}px, ${position.y}px)`
            },
        },
        modifiers: [
            interact.modifiers.restrictRect({
                restriction: 'parent'
            })
        ]
    });

    interact('#draggableItem').draggable({
        listeners: {
            start (event) {
            console.log(event.type, event.target)
            },
            move (event) {
            position2.x += event.dx
            position2.y += event.dy

            event.target.style.transform = `translate(${position2.x}px, ${position2.y}px)`
            },
        }
    })

    interact('.dropZone').dropzone({
        accept: '#draggableItem',
        ondrop: function (event) {
            alert(event.relatedTarget.id
            + ' was dropped into '
            + event.target.classList)
        }
    })
    .on('dropactivate', function (event) {
        event.target.classList.add('drop-activated')
    })
      </script>
    <script src="app.js"></script>
    <script src="drag.js"></script>
</body>
</html>